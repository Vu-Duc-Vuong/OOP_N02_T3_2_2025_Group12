<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Tra c·ª©u ƒë∆°n h√†ng | Shopbee üêù</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #fffbee;
            font-family: 'Segoe UI', sans-serif;
        }

        h2 {
            color: #f9a825;
            margin: 30px 0;
        }

        .form-label {
            font-weight: 500;
        }

        .form-control {
            border-radius: 8px;
        }

        .btn-success {
            background-color: #fbbc04;
            border-color: #fbbc04;
            font-weight: bold;
            border-radius: 8px;
        }

        .btn-success:hover {
            background-color: #f9a825;
            border-color: #f9a825;
        }

        .btn-outline-info {
            border-radius: 8px;
            font-weight: 600;
        }

        .table {
            background-color: #ffffff;
            border-radius: 10px;
            overflow: hidden;
        }

        .table th {
            background-color: #fce59c;
        }

        .alert-warning {
            border-radius: 10px;
        }
    </style>
</head>

<body>
    <div class="container mt-5">

        <!-- N√∫t v·ªÅ trang ch·ªß -->
        <div class="text-start mb-3">
            <a href="/greeting" class="btn btn-outline-info">
                <i class="bi bi-house-door"></i> Trang ch·ªß
            </a>
        </div>

        <!-- Ti√™u ƒë·ªÅ -->
        <h2 class="text-center">üîç Tra c·ª©u ƒë∆°n h√†ng ƒë√£ thanh to√°n c·ªßa ng∆∞·ªùi d√πng</h2>

        <!-- Form t√¨m ki·∫øm -->
        <form class="mx-auto" action="/ordersearch" method="get" style="max-width: 500px;">
            <div class="mb-3">
                <label for="userId" class="form-label">Nh·∫≠p m√£ ng∆∞·ªùi d√πng:</label>
                <input type="text" class="form-control" id="userId" name="userId"
                    placeholder="V√≠ d·ª•: 1, 2, 3,..." th:value="${enteredUserId}" required>
            </div>

            <!-- Hi·ªÉn th·ªã l·ªói n·∫øu c√≥ -->
            <div th:if="${error}" class="alert alert-danger text-center">
                <p th:text="${error}"></p>
            </div>
            
            <div class="text-center">
                <button type="submit" class="btn btn-success">
                    <i class="bi bi-search"></i> Xem ƒë∆°n h√†ng
                </button>
            </div>
        </form>

        <!-- Th√¥ng b√°o kh√¥ng c√≥ ƒë∆°n h√†ng -->
        <div th:if="${enteredUserId != null} and ${orderSearch != null} and ${#lists.isEmpty(orderSearch)}" class="alert alert-warning mt-4 text-center">
            <p>üêù Kh√¥ng t√¨m th·∫•y ƒë∆°n h√†ng n√†o cho User ID n√†y.</p>
        </div>

        <!-- B·∫£ng k·∫øt qu·∫£ -->
        <div th:if="${orderSearch != null and orderSearch.size() > 0}" class="mt-4">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>M√£ ƒë∆°n</th>
                        <th>Ng√†y ƒë·∫∑t</th>
                        <th>Kh√°ch h√†ng</th>
                        <th>Ph∆∞∆°ng th·ª©c</th>
                        <th>S·ªë ti·ªÅn</th>
                        <th>Tr·∫°ng th√°i</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="order : ${orderSearch}">
                        <td th:text="${order.orderId}">001</td>
                        <td th:text="${order.orderDate}">2025-07-01</td>
                        <td th:text="${order.customerName}">Nguy·ªÖn VƒÉn A</td>
                        <td th:text="${order.paymentMethod}">Momo</td>
                        <td th:text="${order.paymentAmount}">150000</td>
                        <td th:text="${order.paymentStatus}">ƒê√£ thanh to√°n</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</body>

</html>
