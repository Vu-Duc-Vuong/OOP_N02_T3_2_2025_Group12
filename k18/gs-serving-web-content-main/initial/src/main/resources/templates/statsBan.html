<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Thống Kê Bán Hàng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light">
<nav class="navbar navbar-expand-lg navbar-dark bg-success mb-4">
  <div class="container"><a class="navbar-brand" href="/ban">Bán Hàng</a></div>
</nav>
<div class="container">
  <div class="row mb-4">
    <div class="col"><h2><i class="fas fa-chart-line text-success"></i> Thống Kê Bán Hàng</h2></div>
    <div class="col text-end"><a href="/ban" class="btn btn-secondary">Quay Lại</a></div>
  </div>
  <div class="card mb-4">
    <div class="card-header"><strong>Chi Tiết</strong></div>
    <div class="card-body table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark"><tr><th>#</th><th>Mã Phiếu</th><th>Tên Hàng</th><th>Số Lượng</th><th>Giá Trị</th></tr></thead>
        <tbody>
          <tr th:if="${#lists.isEmpty(items)}"><td colspan="5" class="text-center text-muted">Không có dữ liệu</td></tr>
          <tr th:each="it, st : ${items}">
            <td th:text="${st.count}">1</td>
            <td th:text="${it.code}">P001</td>
            <td th:text="${it.name}">Gạo</td>
            <td th:text="${it.quantity}">0</td>
            <td><span th:text="${#numbers.formatDecimal(it.totalValue,0,0)}">0</span> VNĐ</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Summary moved below details -->
  <div class="row mb-4">
    <div class="col-md-4"><div class="card text-white bg-primary"><div class="card-body"><h6>Tổng Phiếu</h6><h3 th:text="${items.size()}">0</h3></div></div></div>
    <div class="col-md-4"><div class="card text-white bg-info"><div class="card-body"><h6>Tổng Số Lượng</h6><h3 th:text="${totalQty}">0</h3></div></div></div>
    <div class="col-md-4"><div class="card text-white bg-success"><div class="card-body"><h6>Tổng Doanh Thu</h6><h3><span th:text="${#numbers.formatDecimal(totalValue,0,0)}">0</span> VNĐ</h3></div></div></div>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
