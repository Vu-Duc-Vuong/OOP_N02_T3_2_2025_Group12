<!-- Danh sách phiếu nhập (đã làm đẹp) -->

<style>
    .primary-gradient {background:linear-gradient(90deg,#007BFF 0%,#0056B3 100%);color:#fff;padding:12px 18px;font-size:1.15rem;font-weight:600;border-radius:6px 6px 0 0;display:flex;align-items:center;gap:8px}
    .icon-title {font-size:1.4rem;color:#fff}
    .table-wrapper {background:#F8F9FA;border-radius:0 0 8px 8px;padding:0}
    table.zebra tbody tr:nth-child(odd){background:#F2F2F2}
    table.zebra tbody tr:nth-child(even){background:#fff}
    .money-success{color:#28A745;font-weight:600}
    .total-highlight-row th{background:#FFF3CD !important;color:#D9534F !important;font-weight:700;font-size:1.05rem}
</style>

<!-- Alerts hiển thị ở layout.html, bỏ tại đây để tránh trùng lặp -->

<div class="card">
    <div class="primary-gradient">
        <span class="icon-title"><i class="fas fa-chart-bar"></i></span>
        Danh Sách Phiếu Nhập Hàng
    </div>
    <div class="card-body table-wrapper">
        <div class="table-responsive">
            <table class="table zebra table-hover mb-0">
                <thead class="table-dark">
                    <tr>
                        <th>STT</th>
                        <th>Mã Hàng Hóa</th>
                        <th>Tên Hàng</th>
                        <th>Số Lượng Nhập</th>
                        <th>Giá Nhập</th>
                        <th>Thời Gian Nhập</th>
                        <th>Tổng Tiền</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:if="${#lists.isEmpty(danhSachNhap)}">
                        <td colspan="7" class="text-center text-muted"><i class="fas fa-inbox"></i> Chưa có phiếu nhập nào</td>
                    </tr>
                    <tr th:each="nhap, iterStat : ${danhSachNhap}">
                        <td th:text="${iterStat.index + 1}">1</td>
                        <td><strong th:text="${nhap.hanghoaID}">HH001</strong></td>
                        <td th:text="${nhap.tenHang}">Gạo ST25</td>
                        <td th:text="${nhap.soLuongNhap}">100</td>
                        <td><span th:if="${nhap.giaNhap >= 0}" th:text="|${#numbers.formatDecimal(nhap.giaNhap,0,'POINT',0,'COMMA')} VNĐ|">0 VNĐ</span></td>
                        <td th:text="${nhap.thoiGianNhap != null ? #temporals.format(nhap.thoiGianNhap,'HH:mm dd/MM/yyyy') : 'N/A'}">N/A</td>
                        <td><strong class="money-success" th:text="|${#numbers.formatDecimal(nhap.tongTien,0,'POINT',0,'COMMA')} VNĐ|">0 VNĐ</strong></td>
                    </tr>
                </tbody>
                <tfoot th:if="${!#lists.isEmpty(danhSachNhap)}">
                    <tr class="total-highlight-row">
                        <th colspan="6" class="text-end">TỔNG CỘNG:</th>
                        <th><span th:text="|${#numbers.formatDecimal(totalAllMoney,0,'POINT',0,'COMMA')} VNĐ|">0 VNĐ</span></th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>

<!-- Nút hành động cuối trang -->
<div class="row mt-4">
    <div class="col">
        <a href="/" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Quay về Trang chủ</a>
        <a href="/quanly/nhap/add" class="btn btn-warning text-dark"><i class="fas fa-plus"></i> Thêm Phiếu Nhập</a>
        <a href="/quanly/nhap/report" class="btn btn-info"><i class="fas fa-chart-bar"></i> Thống Kê</a>
    </div>
</div>
